{% extends 'layout.html' %}

{% block body %}
	<div style="padding-top: 90px;"></div>

	{% if entriesAvailable %}
	<div class="container">
		<div class="card mb-5 w-60">
			<div class="blog-body">
				<div class="row">
					<div class="col">
						
					</div>
					<div class="col">
						
					</div>
					<div class="col">
						
					</div>
				</div>
        	</div>
			<div class="blog-header">
        		<div class="h-50" id="entryLocationMap"></div>
        	</div>
        	<div class="blog-body">
				<div class="row">
					<div class="col">
						
					</div>
					<div class="col">
						
					</div>
					<div class="col">
						
					</div>
				</div>
        	</div>
        </div>
    </div>  	
	{% for entry in entries %}		
		<div class="container">
	        <div class="row">
	          <div class="col-lg-12">
	          	<div class="card mb-5 w-60">
	          		<div class="blog-header">
		    			<div class="blog-cover">
						<div class="blog-author">
							<div class="blog-author-img">
			        			<img src="/static/media/MPSH_userProfiles/{{entry.uploader.userName}}.jpg" alt="">
			      			</div>
		        			<h3><a href="/profile/{{entry.uploader.id}}">{{entry.uploader.userName}}</a></h3>
		      			</div>
		      				{% if entry.S3imgSmallURL %}
		      					<img class="blog-cover" src="{{entry.S3imgSmallURL}}" alt="">
		      				{% else %}
		      					<img class="blog-cover" src="/static/img/imgNotAvailable.png" alt="">
		      				{% endif %}
		    			</div>
		  			</div>
      	<div class="blog-body">
		 	 <div class="card-deck mt-2 mb-2 border-0">
			 	<div class="col-md-10">
			 		<div class="text-left">
						<div class="card-body">
			 				<div class="blog-title">
		     					<h1><a href="/entries/category/{{entry.category.id}}/">{{entry.category.title}}</a></h1>
		    				</div>
		    				<div class="blog-summary">
		    					<p><h3>{{entry.title}}</h3></p>
		     					<p>{{entry.description}}</p>
		    				</div>
		    				<div>
		    					 <span>
								    {% for tags in entry.tags %}
								    	{% if ((tags.tagID.sysActive|int) == 1) -%}
								    		<a href="/entries/tags/{{tags.tagID.tagText}}">#{{tags.tagID.tagText}}</a>,
								    	{%- endif %}
								    {% endfor %}
								</span>
		    				</div>
		    			</div>
		    		</div>
			 	</div>
			 	<div class="col-md-2">
					<div class="card text-center">
					    <h5 class="blog-title">{{entry.category.value}}</h5>
					    <p class="card-text">Points</p>
					   	<h5 class="blog-title">{{entry.category.value}}</h5>
					    <p class="card-text">Points</p>
					    <!--<p class="card-text">{{entry.location.latitude}}</p>
					    <p class="card-text">{{entry.location.longitude}}</p>
					    <p class="card-text">{{entry.location.placeAddress}}</p>
					    <p class="card-text">{{entry.location.placeName}}</p>-->
					</div>
			 	</div>

		  	</div>
		  </div>
		</div>
      	</div>
	  </div>
	</div>

	{% endfor %}

	{% else %}
	
	<header  id="about" class="masthead text-center text-white d-flex" style="background-image:url('/static/media/MPSH_entries/stage/{{headerEntry.imgFileName}}')">
      <div class="container my-auto">
        <div class="row">
          <div class="col-lg-10 mx-auto">
            <h1 class="text-uppercase">
              <strong>no entries to show</strong>
            </h1>
            <center><hr></center>
          </div>
          <div class="col-lg-8 mx-auto">
            <p class="text-faded mb-5">Maybe it is time for you to step up your game and submit!</u></p>
            <a class="btn btn-primary btn-xl js-scroll-trigger" href="/submitEntry">Submit Entry Now!</a>
          </div>
        </div>
      </div>
    </header>


	{% endif %}
{% endblock %}

{% block script %}
	
	<script src="{{ url_for('static', filename='js/_entries.js') }}" type="text/javascript"></script>
	<script type="text/javascript">
		window.appConfig = {
  			entries: '{{ entries }}'
		}
</script>
	<script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyCZdGMnddegYOYYfUy92Pwiu7nXauPCj4U&libraries=places&callback=initMap" async="" defer=""></script>

{% endblock %}









