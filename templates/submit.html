{% extends 'layout.html' %}

{% block body %}

	{% from 'includes/_formhelpers.html' import render_field %}

	<header class="masthead text-center text-white d-flex" style="background-image:url('static/media/MPSH_entries/stage/{{headerEntry.imgFileName}}')">
		<div class="container my-auto">
        	<div class="row">
          		<div class="col-lg-10 mx-auto">
	          	<h2 class="section-heading">Submit and Entry</h2>
				<center><hr class="my-4"></center>

				<!-- multistep form -->
				<form data-parsley-validate="" enctype="multipart/form-data" id="msform" method="POST" action="{{ url_for('submitEntry') }}">
					<!-- progressbar -->
					<ul id="progressbar">
						<li width="25%" class="active">Categorize</li>
						<li width="25%">Upload</li>
						<li width="25%">Add Details</li>
						<li width="25%">Confirm</li>
					</ul>
					<!-- fieldsets -->

					<!-- ######################################################################################################################## -->
					<!-- Photo Category Selection-->
					<fieldset>
						<h2 class="fs-title">Select a Category</h2>
						<h3 class="fs-subtitle"></h3>
						{{render_field(form.cateogryID, class_="form-control")}}
						<!--<input type="text" name="userName" placeholder="USERNAME"  data-parsley-length="[6, 30]" data-parsley-group="block1" data-parsley-trigger="keyup" autocomplete="off">
						<input  type="email" name="email" placeholder="EMAIL" data-parsley-group="block1" data-parsley-trigger="keyup" autocomplete="off">
						<div class="invalid-form-error-message"></div>-->
						<input id="reg_sec1_next" type="button" name="next" disabled="false" class="next action-button" value="NEXT">
					</fieldset>
					<!-- ######################################################################################################################## -->

					<!-- ######################################################################################################################## -->
					<!-- Photo Upload. -->
					<fieldset>
						<h2 class="fs-title">Photo Upload</h2>
						<h3 class="fs-subtitle">Select your photo for submission</h3>
						<!--{{ form.entryImage }}-->
						<input type="file" name="entryImage" id="entryImage" accept="image/*" >
						<!--<input type=file name=form.entryImage>-->
						<!--<input type="file" id="entryImage" data-parsley-filemaxmegabytes="2" data-parsley-trigger="change" data-parsley-filemimetypes="image/jpeg, image/png" />-->
						<div class="invalid-form-error-message"></div>
						<span class="errorspanconfirmnewpassinput"></span>
						<input type="button" name="previous" class="previous action-button" value="Previous" >
						<input id="reg_sec2_next" type="button" name="next" disabled="true" class="next action-button-deactive" value="Next" />
					</fieldset>
					<!-- ######################################################################################################################## -->

					<!-- ######################################################################################################################## -->
					<!-- Describe and Title the photo! -->
					<fieldset>
						<h2 class="fs-title">Describe it!</h2>
						<h3 class="fs-subtitle">Give it a title, Describe it!</h3>
						{{render_field(form.entryTitle, class_="form-control")}}
						{{render_field(form.entryDescription, class_="form-control")}}
						<!--<input type="text" name="firstName" placeholder="FIRST NAME" data-parsley-length="[3, 40]" data-parsley-group="block3" data-parsley-trigger="keyup" autocomplete="off">
						<input type="text" name="lastName" placeholder="LAST NAME" data-parsley-length="[3, 40]" data-parsley-group="block3" data-parsley-trigger="keyup" autocomplete="off">-->
						<!--<input type="text" name="phone" placeholder="Phone" />
						<textarea name="address" placeholder="Address"></textarea>-->
						<div class="invalid-form-error-message"></div>
						<input type="button" name="previous" class="previous action-button" value="Previous" />
						<input id="reg_sec3_next" type="button" name="next" disabled="true" class="next action-button-deactive" value="Next" />
						
					</fieldset>

					<!-- ######################################################################################################################## -->

					<!-- ######################################################################################################################## -->
					<!-- Photo Preview. -->
					<fieldset>
						<h2 class="fs-title">Photo Confirm</h2>
						<h3 class="fs-subtitle">Select your photo for submission</h3>
						<div><img style="height:auto;width:300px;display:none" id="upload-preview"/></div>
						<div id="upload-preview-vision">
							</br>
							<table style="width:100%" id="upload-preview-vision-data">
							  
							</table>
							</br>
						</div>
						<input type="hidden" id="entryImageUUID" name="entryImageUUID" value="">
						<input type="hidden" id="tmpFileName" name="tmpFileName" value="">
						<input type="button" name="previous" class="previous action-button" value="Previous" >
						<input id="reg_sec4_next" type="submit" name="" disabled="true" 	class="submit action-button-deactive" value="Submit" />
					</fieldset>
					<!-- ######################################################################################################################## -->

				</form>
			</div>
		</div>
	</div>
</header>
{% endblock%}	





{% block script %}

	

	<script type="text/javascript">

		
	</script>

	

	<script src="{{ url_for('static', filename='js/_entrySubmit.js') }}" type="text/javascript"></script>


	<script type="text/javascript">
		 $('#msform').change(function(){
		 	$('#msform').parsley().validate()
		});
	</script>




{% endblock %}